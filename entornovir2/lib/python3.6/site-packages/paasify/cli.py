import os
import click
from paasify import Paasify


@click.command(name='paasify')
@click.argument("source_folder")
@click.option('--registry', '-r', help='Registry used in the Dockerfile generation')
def cli(source_folder, registry):
    """
    Transform SOURCE_FOLDER into a Docker buildable folder
    """
    if os.path.isdir(source_folder):
        paasify = Paasify(source_folder, registry)
        paasify.run()
        click.echo("paasify succeeded :-)")
